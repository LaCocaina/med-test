(function(e){function t(t){for(var n,a,s=t[0],l=t[1],u=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/med-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),o=r.n(n);o.a},1621:function(e,t,r){"use strict";var n=r("c8bf"),o=r.n(n);o.a},"4d2d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=r("1dce"),i=r.n(o),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Form")],1)},s=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form"},[e.isSend?r("TextBlock",[e._v("Данные успешно сохранены! (нет, ведь это тест)")]):r("form",[r("div",{staticClass:"form-card"},[r("div",{staticClass:"form-section"},[r("div",{staticClass:"form-title"},[e._v("Данные о пациенте")]),e._l(e.attr,(function(t,n){return r("FormInput",{key:"attr-"+n,attrs:{type:t.type,error:t.error,required:t.isRequired,field:t.alt,options:t.options,name:t.name},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"a.value"}})}))],2),r("div",{staticClass:"form-section"},[r("div",{staticClass:"form-title"},[e._v("Адрес")]),e._l(e.address,(function(t,n){return r("FormInput",{key:"address-"+n,attrs:{type:t.type,error:t.error,required:t.isRequired,field:t.alt,options:t.options,name:t.name},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"a.value"}})}))],2),r("div",{staticClass:"form-section"},[r("div",{staticClass:"form-title"},[e._v("Паспортные данные")]),e._l(e.personId,(function(t,n){return r("FormInput",{key:"personId-"+n,attrs:{type:t.type,error:t.error,required:t.isRequired,field:t.alt,options:t.options,name:t.name},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"a.value"}})}))],2)]),r("div",{staticClass:"form-actions"},[r("input",{staticClass:"submit",attrs:{type:"submit",value:"Отправить"},on:{click:function(t){return e.send(t)}}})])])],1)},u=[],c=(r("a623"),r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-block"},[r("div",{staticClass:"form-input"},["text"===e.type?r("div",{class:["default-input","form-el",e.error&&"form-el_error"]},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{type:"text",placeholder:e.field},domProps:{value:e.content},on:{input:[function(t){t.target.composing||(e.content=t.target.value)},e.handleInput]}})]):"date"===e.type?r("div",{class:["date-input","form-el",e.error&&"form-el_error"]},[r("span",{staticClass:"date-field"},[e._v(e._s(e.field))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{type:"date",max:(new Date).toISOString().split("T")[0]},domProps:{value:e.content},on:{change:e.handleInput,input:function(t){t.target.composing||(e.content=t.target.value)}}})]):"select"===e.type||"multi-select"===e.type?r("div",{class:["select-input","form-el",e.error&&"form-el_error"]},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{multiple:"multi-select"===e.type},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.content=t.target.multiple?r:r[0]},e.handleInput]}},[r("option",{attrs:{disabled:"",value:""}},[e._v(e._s(e.field))]),e._l(e.options,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])}))],2)]):"checkbox"===e.type?r("div",{class:["checkbox-input","form-el",e.error&&"form-el_error"]},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{id:e.name,type:"checkbox"},domProps:{checked:Array.isArray(e.content)?e._i(e.content,null)>-1:e.content},on:{change:function(t){var r=e.content,n=t.target,o=!!n.checked;if(Array.isArray(r)){var i=null,a=e._i(r,i);n.checked?a<0&&(e.content=r.concat([i])):a>-1&&(e.content=r.slice(0,a).concat(r.slice(a+1)))}else e.content=o}}}),r("label",{attrs:{for:e.name}},[e._v(e._s(e.field))])]):e._e(),e.required?r("div",{staticClass:"form-isRequired"},[e._v("*")]):e._e()]),e.error?r("div",{staticClass:"form-error"},[e._v(e._s(e.error))]):e._e()])}),d=[],p={name:"FormInput",props:{value:[String,Array,Boolean],error:String,required:Boolean,field:String,type:String,name:String,options:Array},data:function(){return{content:this.value}},methods:{handleInput:function(){this.$emit("input",this.content)}}},m=p,f=(r("f015"),r("2877")),v=Object(f["a"])(m,c,d,!1,null,"e45b252e",null),y=v.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text"},[e._t("default")],2)},b=[],x={name:"TextBlock"},_=x,g=(r("aa2f"),Object(f["a"])(_,h,b,!1,null,"73528c38",null)),q=g.exports,k={name:"Form",components:{TextBlock:q,FormInput:y},data:function(){return{attr:[{id:1,name:"lastName",type:"text",value:"",isRequired:!0,alt:"Фамилия",error:null,options:[]},{id:2,name:"firstName",type:"text",value:"",isRequired:!0,alt:"Имя",error:null,options:[]},{id:3,name:"patronymic",type:"text",value:"",isRequired:!1,alt:"Отчество",error:null,options:[]},{id:4,name:"birthDay",type:"date",value:"",isRequired:!0,alt:"Дата Рождения",error:null,options:[]},{id:5,name:"phone",type:"text",value:"",isRequired:!0,alt:"Номер телефона",error:null,options:[]},{id:6,name:"sex",type:"select",value:"",isRequired:!1,alt:"Пол",error:null,options:this.options("genders")},{id:7,name:"group",type:"multi-select",value:[],isRequired:!0,alt:"Группа",error:null,options:this.options("groups")},{id:8,name:"doctor",type:"select",value:"",isRequired:!1,alt:"Лечащий врач",error:null,options:this.options("doctors")},{id:9,name:"isSms",type:"checkbox",value:!1,isRequired:!1,alt:"Не отправлять СМС",error:null,options:[]}],address:[{id:1,name:"index",type:"text",value:"",isRequired:!1,alt:"Индекс",error:null,options:[]},{id:2,name:"country",type:"text",value:"",isRequired:!1,alt:"Страна",error:null,options:[]},{id:3,name:"region",type:"text",value:"",isRequired:!1,alt:"Область",error:null,options:[]},{id:4,name:"city",type:"text",value:"",isRequired:!0,alt:"Город",error:null,options:[]},{id:5,name:"street",type:"text",value:"",isRequired:!1,alt:"Улица",error:null,options:[]},{id:6,name:"houseNumber",type:"text",value:"",isRequired:!1,alt:"Номер дома",error:null,options:[]}],personId:[{id:1,name:"type",type:"select",value:"",isRequired:!0,alt:"Тип документа",error:null,options:this.options("docTypes")},{id:2,name:"series",type:"text",value:"",isRequired:!1,alt:"Серия",error:null,options:[]},{id:3,name:"number",type:"text",value:"",isRequired:!1,alt:"Номер",error:null,options:[]},{id:4,name:"issuedBy",type:"text",value:"",isRequired:!1,alt:"Кем выдан",error:null,options:[]},{id:5,name:"issuedDate",type:"date",value:"",isRequired:!0,alt:"Дата выдачи",error:null,options:[]}],isSend:!1}},methods:{validate:function(e){return e.map((function(e){return e.map((function(e){if(e.isRequired&&!e.value)return e.error="Данное поле должно быть заполнено",!1;switch(e.type){case"text":if(e.value.length>=32)return e.error="Текст в форме не должен превышать 32 символов",!1;if(e.isRequired&&e.value.length<2)return e.error="Текст в поле не может быть менее 2 символов",!1;break;case"select":break;case"multi-select":if(e.value.length<1)return e.error="Выберите хотя бы одно поле",!1;break;case"date":break;case"checkbox":break}return e.error="",!0}))}))},send:function(e){e.preventDefault();var t=this.validate([this.attr,this.address,this.personId]).map((function(e){return e.every((function(e){return!0===e}))}));t.every((function(e){return!0===e}))&&(this.isSend=!0)},options:function(e){switch(e){case"groups":return[{id:1,name:"VIP"},{id:2,name:"Проблемные"},{id:3,name:"ОМС"}];case"doctors":return[{id:1,name:"Иванов"},{id:2,name:"Захаров"},{id:3,name:"Чернышева"}];case"docTypes":return[{id:1,name:"Паспорт"},{id:2,name:"Свидетельство о рождении"},{id:3,name:"Вод. удостоверение"}];case"genders":return[{id:1,name:"М"},{id:2,name:"Ж"}];default:return[]}}}},R=k,w=(r("1621"),Object(f["a"])(R,l,u,!1,null,"16ed6156",null)),C=w.exports,O={name:"App",components:{Form:C}},S=O,I=(r("034f"),Object(f["a"])(S,a,s,!1,null,null,null)),j=I.exports;n["a"].use(i.a),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(j)}}).$mount("#app")},"85ec":function(e,t,r){},"890b":function(e,t,r){},aa2f:function(e,t,r){"use strict";var n=r("890b"),o=r.n(n);o.a},c8bf:function(e,t,r){},f015:function(e,t,r){"use strict";var n=r("4d2d"),o=r.n(n);o.a}});
//# sourceMappingURL=app.700ae004.js.map